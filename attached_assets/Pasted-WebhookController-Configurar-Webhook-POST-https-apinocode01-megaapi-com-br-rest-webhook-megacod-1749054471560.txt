WebhookController
Configurar Webhook
POST
https://apinocode01.megaapi.com.br/rest/webhook/megacode-McmAMknxcxu/configWebhook
 Configurar webhook
Este m√©todo te permite verificar qual url esta salva no webhook

 Configurar webhook utilizando painel Mega-api
1Ô∏è‚É£ - Acesse nosso painel, clique na op√ß√£o MINHAS INSTANCIAS


2Ô∏è‚É£ - Agora, clicando no bot√£o DETALHES, voc√™ ser√° redirecionado, para a tela com todos os detalhes da inst√¢ncia contratada


3Ô∏è‚É£ - Clique no EDITAR, abrir√° uma janela modal. Adicione a url do weu webhook, salve e pronto. Sua inst√¢ncia a partir de agora, come√ßar√° a receber todos os eventos disparados pelo whatsapp


 Configurar eventos webhook utilizando painel Mega-api
Agora voc√™ pode selecionar facilmente os eventos do WhatsApp que deseja receber em seu webhook, tornando a integra√ß√£o ainda mais personalizada e eficiente.
eventos.png
Requisi√ß√£o
Authorization
Forne√ßa seu token bearer no cabe√ßalho Authorization ao fazer requisi√ß√µes para recursos protegidos.
Exemplo:
Authorization: Bearer ********************
Par√¢metros Header
Name
Type
Required
Description
Authorization
string 
Exemplo:
Bearer {{token}}
Par√¢metros Body
application/json
object
 
{0}
Exemplo
{
  "messageData": {
    "webhookUrl": "https://webhook.megaapi.com.br/0d5c7fd5-cbeb-4181-acd0-f563e9b73e2a",
    "webhookEnabled": true,
    "webhookSecondaryUrl": "https://webhook.megaapi.com.br/0d5c7fd5-cbeb-4181-acd0-f563e9b73e2awebhook2",
    "webhookSecondaryEnabled": false
  }
}
Exemplos de Requisi√ß√£o
http.client
Requests
import requests
import json

url = "https://apinocode01.megaapi.com.br/rest/webhook/sua instance_key/configWebhook"

payload = json.dumps({
   "messageData": {
      "webhookUrl": "https://webhook.megaapi.com.br/0d5c7fd5-cbeb-4181-acd0-f563e9b73e2a",
      "webhookEnabled": True,
      "webhookSecondaryUrl": "https://webhook.megaapi.com.br/0d5c7fd5-cbeb-4181-acd0-f563e9b73e2awebhook2",
      "webhookSecondaryEnabled": False
   }
})
headers = {
   'Authorization': 'Bearer seu token',
   'Content-Type': 'application/json'
}

response = requests.request("POST", url, headers=headers, data=payload)

print(response.text)
Respostas
üü¢200
Success
application/json
error
boolean 
requerido
message
string 
requerido
dataMessage
object 
requerido
webhookUrl
string 
requerido
webhookEnabled
boolean 
requerido
webhookSecondaryUrl
string 
requerido
webhookSecondaryEnabled
boolean 
requerido
Exemplo
{
    "error": false,
    "message": "Webhook configured",
    "dataMessage": {
        "url": "https://meuwebhook.com",
        "sendMessage": true
    }
}